{% extends "main/base.html" %}
{% load static rest_framework %}

{% block styles %}
  <link rel="stylesheet" type="text/css" href="{% static 'plann/css/tasks.min.css' %}">
  <style type="text/css">
    .task-items {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      grid-gap: 10px;
      margin: 10px 0;
    }

    .task-item {
      display: inline-grid;
      width: 100%;
      height: 100%;
      border-radius: 5px;
      background-color: #f9f4d3;
      min-width: 0;
      cursor: pointer;
    }
    .task-item:hover {
      position: relative;
      top: -5px;
      box-shadow: 0 3px 3px #888;
    }

    .task-item-priority {
      width: 100%;
      height: 1em;
    }

    .task-item-priority-values {
      width: max-content;
      height: 100%;
      margin: 0 auto;
      display: flex;
    }

    .task-item-priority-value {
      aspect-ratio: 1/1;
      height: 100%;
    }
    .task-item-priority-value > div {
      border-radius: 50%;
      width: 50%;
      height: 50%;
      margin: 25%;
    }

    .task-item-priority-value-0 {
      background-color: #ddd;
    }
    .task-item-priority-value-1 {
      background-color: #14b1ab;
    }
    .task-item-priority-value-2 {
      background-color: #f9d56e;
    }
    .task-item-priority-value-3 {
      background-color: #f49ca2;
    }
    .task-item-priority-value-4 {
      background-color: #e8505b;
    }

    .task-item-meaning {
      width: 100%;
      height: 2em;
      padding: 0.3em 0 10%;
      box-sizing: border-box;
      position: relative;
      min-width: 0;
    }

    .task-item-meaning-name {
      width: 100%;
      overflow: hidden;
    }

    .task-item-meaning-name > div {
      margin: 0 auto;
      width: max-content;
    }

    .task-item-status {
      width: 100%;
      height: 0.5em;
      border-bottom-left-radius: inherit;
      border-bottom-right-radius: inherit;
    }

    .task-item-status-ns {
      background-color: #ddd;
    }

    .task-item-status-ip {
      background-color: #f9d56e;
      clip-path: polygon(0% 0%, 89% 0%, 89% 100%, 90% 100%, 90% 0%, 100% 0%, 100% 100%, 0% 100%);
    }

    .task-item-status-dn {
      background-color: #6fd8d4;
      clip-path: polygon(0% 0%, 78% 0%, 78% 100%, 79% 100%, 79% 0%, 89% 0%, 89% 100%, 90% 100%, 90% 0%, 100% 0%, 100% 100%, 0% 100%);
    }

    .task-item-status-cl {
      background-color: #f49ca2;
      clip-path: polygon(0% 0%, 10% 0%, 10% 100%, 11% 100%, 11% 0%, 100% 0%, 100% 100%, 0% 100%);
    }
  </style>
{% endblock %}

{% block title %}Tasks{% endblock %}

{% block content %}
  <div class="task-items">
    <div class="task-item">
      <div class="task-item-priority">
        <div class="task-item-priority-values"
             title="Critical">
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-4"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-4"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-4"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-4"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-4"></div>
          </div>
        </div>
      </div>

      <div class="task-item-meaning">
        <div class="task-item-meaning-name">
          <div>
            Qwerty
          </div>
        </div>
      </div>

      <div class="task-item-status task-item-status-ip"
           title="In progress">
      </div>
    </div>

    <div class="task-item">
      <div class="task-item-priority">
        <div class="task-item-priority-values"
             title="High">
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-3"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-3"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-3"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-3"></div>
          </div>
        </div>
      </div>

      <div class="task-item-meaning">
        <div class="task-item-meaning-name">
          <div>
            Qwerty
          </div>
        </div>
      </div>

      <div class="task-item-status task-item-status-ns"
           title="Not started">
      </div>
    </div>

    <div class="task-item">
      <div class="task-item-priority">
        <div class="task-item-priority-values"
             title="Normal">
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-2"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-2"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-2"></div>
          </div>
        </div>
      </div>

      <div class="task-item-meaning">
        <div class="task-item-meaning-name">
          <div>
            Qwerty
          </div>
        </div>
      </div>

      <div class="task-item-status task-item-status-dn"
           title="Done">
      </div>
    </div>

    <div class="task-item">
      <div class="task-item-priority">
        <div class="task-item-priority-values"
             title="Low">
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-1"></div>
          </div>
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-1"></div>
          </div>
        </div>
      </div>

      <div class="task-item-meaning">
        <div class="task-item-meaning-name">
          <div>
            Qwerty
          </div>
        </div>
      </div>

      <div class="task-item-status task-item-status-cl"
           title="Canceled">
      </div>
    </div>

    <div class="task-item">
      <div class="task-item-priority">
        <div class="task-item-priority-values"
             title="Not setted">
          <div class="task-item-priority-value">
            <div class="task-item-priority-value-0"></div>
          </div>
        </div>
      </div>

      <div class="task-item-meaning">
        <div class="task-item-meaning-name">
          <div>
            Qwerty
          </div>
        </div>
      </div>

      <div class="task-item-status task-item-status-ip"
           title="In progress">
      </div>
    </div>
  </div>

  <div id="app"></div>
{% endblock %}

{% block scripts %}
  <script type="text/javascript">
    {% autoescape off %}
      const CHOISES = JSON.parse('{{ choices }}');
      const URLS = JSON.parse('{{ urls }}');
      const CREATE_TASK_RAW_FORM = `{% render_form create_task_serializer %}`;
      const TAGS = JSON.parse('{{ tags }}');
    {% endautoescape %}
  </script>
  <script src="{% static 'plann/js/tasks.min.js' %}"></script>
{% endblock %}
